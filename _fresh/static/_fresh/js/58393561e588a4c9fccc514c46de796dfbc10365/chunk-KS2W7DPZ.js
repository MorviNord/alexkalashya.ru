import{a as m,b as F,d as C,e as O,i as x}from"./chunk-AFUTOR6E.js";var z=Symbol.for("preact-signals");function w(){if(c>1){c--;return}let i,t=!1;for(;_!==void 0;){let e=_;for(_=void 0,U++;e!==void 0;){let o=e.o;if(e.o=void 0,e.f&=-3,!(8&e.f)&&j(e))try{e.c()}catch(s){t||(i=s,t=!0)}e=o}}if(U=0,c--,t)throw i}function k(i){if(c>0)return i();c++;try{return i()}finally{w()}}var n,_;function A(i){let t=n;n=void 0;try{return i()}finally{n=t}}var c=0,U=0,S=0;function T(i){if(n===void 0)return;let t=i.n;if(t===void 0||t.t!==n)return t={i:0,S:i,p:n.s,n:void 0,t:n,e:void 0,x:void 0,r:t},n.s!==void 0&&(n.s.n=t),n.s=t,i.n=t,32&n.f&&i.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=n.s,t.n=void 0,n.s.n=t,n.s=t),t}function u(i,t){this.v=i,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched}u.prototype.brand=z;u.prototype.h=function(){return!0};u.prototype.S=function(i){let t=this.t;t!==i&&i.e===void 0&&(i.x=t,this.t=i,t!==void 0?t.e=i:A(()=>{var e;(e=this.W)==null||e.call(this)}))};u.prototype.U=function(i){if(this.t!==void 0){let t=i.e,e=i.x;t!==void 0&&(t.x=e,i.e=void 0),e!==void 0&&(e.e=t,i.x=void 0),i===this.t&&(this.t=e,e===void 0&&A(()=>{var o;(o=this.Z)==null||o.call(this)}))}};u.prototype.subscribe=function(i){return d(()=>{let t=this.value,e=n;n=void 0;try{i(t)}finally{n=e}})};u.prototype.valueOf=function(){return this.value};u.prototype.toString=function(){return this.value+""};u.prototype.toJSON=function(){return this.value};u.prototype.peek=function(){let i=n;n=void 0;try{return this.value}finally{n=i}};Object.defineProperty(u.prototype,"value",{get(){let i=T(this);return i!==void 0&&(i.i=this.i),this.v},set(i){if(i!==this.v){if(U>100)throw new Error("Cycle detected");this.v=i,this.i++,S++,c++;try{for(let t=this.t;t!==void 0;t=t.x)t.t.N()}finally{w()}}}});function b(i,t){return new u(i,t)}function j(i){for(let t=i.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function M(i){for(let t=i.s;t!==void 0;t=t.n){let e=t.S.n;if(e!==void 0&&(t.r=e),t.S.n=t,t.i=-1,t.n===void 0){i.s=t;break}}}function P(i){let t,e=i.s;for(;e!==void 0;){let o=e.p;e.i===-1?(e.S.U(e),o!==void 0&&(o.n=e.n),e.n!==void 0&&(e.n.p=o)):t=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=o}i.s=t}function l(i,t){u.call(this,void 0),this.x=i,this.s=void 0,this.g=S-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched}l.prototype=new u;l.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===S))return!0;if(this.g=S,this.f|=1,this.i>0&&!j(this))return this.f&=-2,!0;let i=n;try{M(this),n=this;let t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return n=i,P(this),this.f&=-2,!0};l.prototype.S=function(i){if(this.t===void 0){this.f|=36;for(let t=this.s;t!==void 0;t=t.n)t.S.S(t)}u.prototype.S.call(this,i)};l.prototype.U=function(i){if(this.t!==void 0&&(u.prototype.U.call(this,i),this.t===void 0)){this.f&=-33;for(let t=this.s;t!==void 0;t=t.n)t.S.U(t)}};l.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let i=this.t;i!==void 0;i=i.x)i.t.N()}};Object.defineProperty(l.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");let i=T(this);if(this.h(),i!==void 0&&(i.i=this.i),16&this.f)throw this.v;return this.v}});function g(i,t){return new l(i,t)}function W(i){let t=i.u;if(i.u=void 0,typeof t=="function"){c++;let e=n;n=void 0;try{t()}catch(o){throw i.f&=-2,i.f|=8,N(i),o}finally{n=e,w()}}}function N(i){for(let t=i.s;t!==void 0;t=t.n)t.S.U(t);i.x=void 0,i.s=void 0,W(i)}function B(i){if(n!==this)throw new Error("Out-of-order effect");P(this),n=i,this.f&=-2,8&this.f&&N(this),w()}function a(i){this.x=i,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}a.prototype.c=function(){let i=this.S();try{if(8&this.f||this.x===void 0)return;let t=this.x();typeof t=="function"&&(this.u=t)}finally{i()}};a.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,W(this),M(this),c++;let i=n;return n=this,B.bind(this,i)};a.prototype.N=function(){2&this.f||(this.f|=2,this.o=_,_=this)};a.prototype.d=function(){this.f|=8,1&this.f||N(this)};a.prototype.dispose=function(){this.d()};function d(i){let t=new a(i);try{t.c()}catch(o){throw t.d(),o}let e=t.d.bind(t);return e[Symbol.dispose]=e,e}var Z,q,E;var V=[];d(function(){Z=this.N})();function v(i,t){m[i]=t.bind(null,m[i]||(()=>{}))}function $(i){E&&E(),E=i&&i.S()}function G({data:i}){let t=H(i);t.value=i;let[e,o]=x(()=>{let s=this,f=this.__v;for(;f=f.__;)if(f.__c){f.__c.__$f|=4;break}let r=g(()=>{let p=t.value.value;return p===0?0:p===!0?"":p||""}),h=g(()=>!Array.isArray(r.value)&&!F(r.value)),y=d(function(){if(this.N=J,h.value){let p=r.value;s.__v&&s.__v.__e&&s.__v.__e.nodeType===3&&(s.__v.__e.data=p)}}),R=this.__$u.d;return this.__$u.d=function(){y(),R.call(this)},[h,r]},[]);return e.value?o.peek():o.value}G.displayName="_st";Object.defineProperties(u.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:G},props:{configurable:!0,get(){return{data:this}}},__b:{configurable:!0,value:1}});v("__b",(i,t)=>{if(typeof t.type=="string"){let e,o=t.props;for(let s in o){if(s==="children")continue;let f=o[s];f instanceof u&&(e||(t.__np=e={}),e[s]=f,o[s]=f.peek())}}i(t)});v("__r",(i,t)=>{if(t.type!==C){$();let e,o=t.__c;o&&(o.__$f&=-2,e=o.__$u,e===void 0&&(o.__$u=e=function(s){let f;return d(function(){f=this}),f.c=()=>{o.__$f|=1,o.setState({})},f}())),q=o,$(e)}i(t)});v("__e",(i,t,e,o)=>{$(),q=void 0,i(t,e,o)});v("diffed",(i,t)=>{$(),q=void 0;let e;if(typeof t.type=="string"&&(e=t.__e)){let o=t.__np,s=t.props;if(o){let f=e.U;if(f)for(let r in f){let h=f[r];h!==void 0&&!(r in o)&&(h.d(),f[r]=void 0)}else f={},e.U=f;for(let r in o){let h=f[r],y=o[r];h===void 0?(h=D(e,r,y,s),f[r]=h):h.o(y,s)}}}i(t)});function D(i,t,e,o){let s=t in i&&i.ownerSVGElement===void 0,f=b(e);return{o:(r,h)=>{f.value=r,o=h},d:d(function(){this.N=J;let r=f.value.value;o[t]!==r&&(o[t]=r,s?i[t]=r:r?i.setAttribute(t,r):i.removeAttribute(t))})}}v("unmount",(i,t)=>{if(typeof t.type=="string"){let e=t.__e;if(e){let o=e.U;if(o){e.U=void 0;for(let s in o){let f=o[s];f&&f.d()}}}}else{let e=t.__c;if(e){let o=e.__$u;o&&(e.__$u=void 0,o.d())}}i(t)});v("__h",(i,t,e,o)=>{(o<3||o===9)&&(t.__$f|=2),i(t,e,o)});O.prototype.shouldComponentUpdate=function(i,t){let e=this.__$u,o=e&&e.s!==void 0;for(let s in t)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){let s=2&this.__$f;if(!(o||s||4&this.__$f)||1&this.__$f)return!0}else if(!(o||4&this.__$f)||3&this.__$f)return!0;for(let s in i)if(s!=="__source"&&i[s]!==this.props[s])return!0;for(let s in this.props)if(!(s in i))return!0;return!1};function H(i,t){return x(()=>b(i,t),[])}var I=i=>{queueMicrotask(()=>{queueMicrotask(i)})};function K(){k(()=>{let i;for(;i=V.shift();)Z.call(i)})}function J(){V.push(this)===1&&(m.requestAnimationFrame||I)(K)}export{b as a,H as b};
